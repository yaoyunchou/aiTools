
# Canvas 图片编辑器模块

## 模块简介
本模块为一个基于 Canvas 的图片编辑器，主要用于生成 1024*1024 的正方形图片，支持自定义文案、二维码、图片等元素，并提供多种编辑功能。界面参考见上方截图。

## 功能说明
1. **正方形画布**：
   - 画布尺寸为  1024*1024 像素。
   - 主图片为正方形，可自定义上传或更换里面的配饰。

2. **可替换元素**：
   - **主图片**：支持用户上传/更换。
   - **文案**：如"连续早起"、"今日早起"、"你笑时 雷声温柔，暴雨无声"等，均可自定义编辑。
   - **二维码**：是固定的， 我会给一个固定的二维码， 可以不展示， 这里可以定一个是否展示的字段。

3. **功能按钮（Tab 切换）**：
   - **换图**：更换主图片。
   - **换文字**：编辑图片上的文案内容。
   - **版式贴纸**：添加/切换贴纸或装饰元素。
   - **发圈文案**：生成/编辑用于分享的文案。
   - **去二维码**：移除或更换二维码。
   - Tab 切换时，下方内容区随之切换，展示对应的编辑功能。

4. **图片保存与分享**：
   - 支持保存生成的图片到本地。
   - 支持一键分享给好友。

## 主要技术实现思路
- 使用 `canvas` API 绘制主图片、文案、二维码等元素，保证所有内容合成在一张图片上。
- 所有可编辑元素（图片、文字、二维码）均以配置项形式管理，便于动态替换。
- Tab 区域采用状态管理（如 React useState 或小程序 setData）切换当前功能区，渲染不同的编辑面板。
- 提供图片上传、文字输入、二维码上传等交互。
- 生成图片时，统一在 canvas 上绘制所有元素，最后导出为图片文件。

## 文件结构建议
- `/template-image/` 目录下：
  - `index.js`/`index.tsx`：主逻辑与渲染
  - `index.wxml`：页面结构
  - `index.less`：页面样式
  - `canvasUtil.js`：canvas 绘图相关工具
  - `config.js`：默认文案、样式等配置
  - `components/`：各功能区子组件（如图片上传、文字编辑、二维码管理等）

## 交互流程
1. 用户进入页面，默认展示主图片和文案。
2. 通过下方 Tab 切换不同编辑功能。
3. 编辑完成后，点击"保存图片"或"发给好友"导出图片。

---

如需详细 API 或组件设计，可进一步补充。